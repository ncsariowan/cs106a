
<!-- Mirrored from web.stanford.edu/class/cs106a/section/section4/section4.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 08 Jun 2020 03:22:04 GMT -->
<head>
<title>CS106A</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta http-equiv="content-type" content="text/html; charset=UTF8">



<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" href="../../css/style.css">

<!-- Java Script -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="../../plugins/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<!-- Python highlighting -->
<script src="../../plugins/prism/prism.js"></script>
<link href="../../plugins/prism/prism.css" rel="stylesheet" />

<!-- Probability Packages -->
<script src="../../plugins/probability/gaussian.js"></script>
<script src="../../plugins/color.js"></script>

<!-- font awesome -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">

<!-- SWAL -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>


<!-- Stanford -->
<link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Source+Serif+Pro:400,600,700' rel='stylesheet' type='text/css'>

<!-- Math Jax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
</script>

<script src="../../plugins/math.min.js"></script>
<script src='https://cdn.mathjax.org/mathjax/latest/MathJaxdda6.js?config=TeX-AMS-MML_HTMLorMML'></script>

  <!-- add after bootstrap.min.css -->
  <link
    rel="stylesheet"
    href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"
  />
  <!-- add after bootstrap.min.js -->
  <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script>
</head>

<body data-spy="scroll" data-target="#toc">
  <!-- Navigation Bar -->

<nav id="mainNav" class="navbar navbar-expand-md navbar-dark bg-dark" style="padding-bottom: 0px;">
		<div class="container">
			<a class="navbar-brand" style="padding-top:0px;color:rgba(255,255,255,.7)" href="../../index-2.html#mainNav">CS106A</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#courseNavbar" aria-controls="courseNavbar" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>


			<div class="collapse navbar-collapse" id="courseNavbar">
				<ul class="navbar-nav mr-auto">
					<!-- LECTURES -->
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#"  role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						Lectures
						</a>
						<div class="dropdown-menu" aria-labelledby="navbarDropdown">
							<div class="row" style="width:800px;">
								<div class="col-md-3">
									<a class="dropdown-item" href="../../lectures/1-Welcome/index.html">
										1. Welcome
									</a>
									<a class="dropdown-item" href="../../lectures/2-ControlFlow/index.html">
										2. Control Flow
									</a>
									<a class="dropdown-item" href="../../lectures/3-Decomposition/index.html">
										3. Decomposition
									</a>
									<a class="dropdown-item" href="../../lectures/4-Variables/index.html">
										4. Variables
									</a>
									<a class="dropdown-item" href="../../lectures/5-ArithmeticExpressions/index.html">
										5. Arithmetic Expressions
									</a>
									<a class="dropdown-item" href="../../lectures/6-ControlFlowRevisited/index.html">
										6. Control Flow Revisited
									</a>
									<a class="dropdown-item" href="../../lectures/7-FunctionsAndParameters/index.html">
										7. Functions Revisited
									</a>
									<a class="dropdown-item" href="../../lectures/8-MoreParameters/index.html">
										8. More Parameters
									</a>
								</div>
								<div class="col-md-3">
									<a class="dropdown-item" href="../../lectures/9-Images/index.html">
										9. Images
									</a>
									<a class="dropdown-item" href="../../lectures/10-Graphics/index.html">
										10. Graphics
									</a>
									<a class="dropdown-item" href="../../lectures/11-Animation/index.html">
										11. Animation
									</a>
									<a class="dropdown-item" href="../../lectures/12-Lists/index.html">
										12. Lists
									</a>
									<a class="dropdown-item" href="../../lectures/13-MoreLists/index.html">
										13. More Lists
									</a>
									<a class="dropdown-item" href="../../lectures/14-TextProcessing/index.html">
										14. Text Processing
									</a>
									<a class="dropdown-item" href="../../lectures/15-Files/index.html">
										15. Files
									</a>
									<a class="dropdown-item" href="../../lectures/16-Dictionaries/index.html">
										16. Dictionaries
									</a>
								</div>
								<div class="col-md-3">
									<a class="dropdown-item" href="../../lectures/17-NestedStructures/index.html">
										17. Nested Structures
									</a>
									<a class="dropdown-item" href="../../lectures/18-NestedStructures2/index.html">
										18. Nested Structures II
									</a>
									<a class="dropdown-item" href="../../lectures/19-Tuples/index.html">
										19. Tuples
									</a>
									<a class="dropdown-item" href="../../lectures/20-ClassesObjects/index.html">
										20. Classes & Objects
									</a>
									<a class="dropdown-item" href="../../lectures/21-Memory/index.html">
										21. Memory
									</a>
									<a class="dropdown-item" href="../../lectures/22-Internet/index.html">
										22. Internet 
									</a>
									<a class="dropdown-item" href="../../lectures/23-SearchEngines/index.html">
										23. Search Engines
									</a>
									<a class="dropdown-item" href="../../lectures/24-FunctionExecution/index.html">
										24. Function Execution
									</a>
								</div>
								<div class="col-md-3">
									<a class="dropdown-item" href="../../lectures/25-LifeAfterCS106A/index.html">
										25. Life After CS 106A
									</a>
								</div>
							</div>
						</div>
					</li>


					<!-- PSETS -->
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						Assignments
						</a>
						<div class="dropdown-menu" aria-labelledby="navbarDropdown">
							<a 
								class="dropdown-item"
								href="https://docs.google.com/forms/d/e/1FAIpQLSfeKsiN9eJ-zWBqKUNuTLsm3sGJ6zfsG6v9DNvZPPUnAfnRAg/viewform?usp=sf_link" 
								target="_blank"
							>
								0 - Who are you?
							</a>
							<a class="dropdown-item"
								href="../../assn/karel.html"
								>
								1 - Karel
							</a>
							<a class="dropdown-item" href="../../assn/khansole_and_interest.html">
								2 - Khan-sole Academy & Computing Interest
							</a>
							<a class="dropdown-item" href="../../assn/ghost_and_quilt.html">
								3 - Ghost & Quilt
							</a>
							<a class="dropdown-item" href="../../assn/sand.html">
								4 - Sand
							</a>
							<a class="dropdown-item" href="../../assn/strings_and_wordguessing.html">
								5 - Strings & Word Guessing
							</a>
							<a class="dropdown-item" href="../../assn/babynames.html">
								6 - BabyNames
							</a>
							<a class="dropdown-item" href="../../assn/bajillion.html">
								7 - Bajillion
							</a>
							<hr />
							<a class="dropdown-item" href="../../starterCode/ContestProject.zip">
								Contest Starter Code
							</a>
					</li>

					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
							aria-expanded="false">
							Section
						</a>
						<div class="dropdown-menu" aria-labelledby="navbarDropdown">
							<a class="dropdown-item"
								href="http://cs198.stanford.edu/cs198/auth/default.aspx"
								target="_blank">
								Section Management
							</a>
							<hr />
							<a class="dropdown-item" 
							   href="../section1/section1.html" 
							   target="_blank">
								Section 1
							</a>
							<a class="dropdown-item" href="../section2/section2.html" target="_blank">
								Section 2
							</a>
							<a class="dropdown-item" href="../section3/section3.html" target="_blank">
								Section 3
							</a>
							<a class="dropdown-item" href="section4.html" target="_blank">
								Section 4
							</a>
							<a class="dropdown-item" href="../section5/section5.html" target="_blank">
								Section 5
							</a>
							<a class="dropdown-item" href="../section6/section6.html" target="_blank">
								Section 6
							</a>
							<a class="dropdown-item" href="../section7/section7.html" target="_blank">
								Section 7
							</a>
							<a class="dropdown-item" href="../section8/section8.html" target="_blank">
								Section 8
							</a>
						</div>
					</li>

		      <!-- Handouts -->
					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						Handouts
						</a>
						<div class="dropdown-menu" aria-labelledby="navbarDropdown">
							<a class="dropdown-item" href="../../handouts/01-general-information.pdf">General Information</a>

							<a class="dropdown-item" href="../../handouts/02-course-placement.pdf"> Course Placement</a>

							<a class="dropdown-item" href=../../handouts/03-honor-code.pdf>Honor Code</a>

							<a class="dropdown-item" href=../../handouts/installingpycharm.html>Installing PyCharm</a>

							<a class="dropdown-item" href=../../assn/04-using-karel-with-pycharm.pdf>Using Karel in PyCharm</a>

							<a class="dropdown-item" href=../../handouts/06-submitting-assignments.pdf>Submitting Assignments</a>

							<a class="dropdown-item" href=../../handouts/diagnostic.html>Diagnostic</a>

							<a class="dropdown-item" href="../../handouts/08-image-reference.pdf">Image Reference</a>

							<a class="dropdown-item" href="../../handouts/graphics-reference.html">Graphics Reference</a>

							<a class="dropdown-item" href="../../handouts/diagnosticgrades.html">Diagnostic Grades</a>

							<a class="dropdown-item" href="../../handouts/13-contest.pdf">Contest</a>

							<a class="dropdown-item" href="../../handouts/retractions.html">Retractions</a>
						</div>
					</li>

					<li class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
					 Examples
						</a>
						<div class="dropdown-menu" aria-labelledby="navbarDropdown">
							<a class="dropdown-item" href="../../examples/awesome/index.html">Programming is Awesome</a>
							<a class="dropdown-item" href="../../examples/moveToCenter/index.html">Move to Center</a>
							<a class="dropdown-item" href="../../examples/bouncingBall/index.html">Bouncing Ball</a>
							<hr/>
							<a class="dropdown-item" href="../../examples/tictactoe/index.html">Tic Tac Toe</a>
							<a class="dropdown-item" href="../../examples/justanumber/index.html">Just a Number</a>
							<a class="dropdown-item" href="../../examples/palindrome/index.html">Palindrome</a>
						</div>
					</li>

				</ul>
				<ul class="navbar-nav ml-auto">
					<li class="nav-item ">
						<a class="nav-link" href="../../schedule.html">
							<i class="fas fa-th-large"></i> Schedule </a>
					</li>
				</ul>
			</div>
		</div>
	</nav>
  <div class="container">
    <div class="col-sm-12">
      <div style="height: 20px;"></div>
      <h1>
        Section #4: Lists & Animations
      </h1>
      <p class="subtleHeading">
        May 3rd, 2020
      </p>
      <hr />
      <p>
        <i>
          Written by Brahm Capoor, Andrew Tierno and Juliette Woodrow
        </i>
      </p>
      <div class="row">
        <div class="col-sm-6 text-center">
          <a href="Section4.zip">
            <i
              class="fas fa-download"
              aria-hidden="true"
              style="font-size: 5em;"
            ></i>
            <br /><br />
            PyCharm Project
          </a>
        </div>
        <div class="col-sm-6 text-center">
          <a href="section4-soln.html">
            <i
              class="fas fa-file-pdf"
              aria-hidden="true"
              style="font-size: 5em;"
            ></i>
            <br /><br />
            Solutions
          </a>
        </div>
      </div>
      <br />
      <h2>Lists Review</h2>

      <h3>Collapse</h3>

      <p>
        Implement the following function:
      </p>

      <pre class="lang-python">
        <code>
def collapse(lst):
    """
    Accepts a list of integers as a parameter and returns a new 
    list containing the result of replacing each pair of integers 
    with the sum of that pair.

    If the list stores an odd number of elements, the final element 
    is not collapsed

    >>> nums = [7, 2, 8, 9, 4, 13, 7, 1, 9, 10]
    >>> collapse(nums)
    [9, 17, 17, 8, 19]
    >>> nums = [1, 2, 3, 4, 5]
    >>> collapse(nums)
    [3, 7, 5]
    """
        </code>
      </pre>

      <h3>Distinct Elements</h3>

      <p>
        Implement the following function:
      </p>

      <pre class="lang-python">
        <code>
def distinct_elements(lst):
    """
    Returns a list of all the disinct elements in lst, in the order that 
    they first occur in lst. 
    >>> distinct_elements([1, 2, 3, 4])
    [1, 2, 3, 4]
    >>> distinct_elements([1, 1, 2, 2, 3])
    [1, 2, 3]
    >>> distinct_elements(['hello', 'hello', 'hello', 'hello', 'hello'])
    ['hello']
    >>> distinct_elements([])
    []
    """
        </code>
      </pre>
      <p></p>

      <h3>Rotate</h3>

      <p>
        Implement the following function:
      </p>

      <pre class="lang-python">
        <code>
def rotate_list_right(lst, n):
    """
    returns a 'rotate' version of the list that rotates numbers 
    to the right n times. Each element in numbers is shifted
    forward n places, and the last n elements are moved to 
    the start of the list.

    Your function should not change the list that is passed as a 
    parameter.

    >>> rotate_list_right([1, 2, 3, 4, 5], 2)
    [4, 5, 1, 2, 3]
    """
        </code>
      </pre>

      <br /><br />
      <h2>Building a News Ticker</h2>

      <p>
        News channels often operate what's called a News Ticker: a banner on the
        bottom of the screen across which breaking news scrolls whilst the
        anchor is speaking.
      </p>

      <p>
        In this problem, you'll be implementing a program that simulates a News
        Ticker, like so:
      </p>

      <img
        src="../../img/section/section4/ticker.gif"
        alt="A scrolling news ticker with the messages 'CS 106A Students are Crushing it', 'So long and thanks for all the fish', and 'Avengers Assemble'"
        style="width: 60%; margin: 0 auto;"
        class="img-fluid mx-auto d-block"
      />
      <br />
      <p>
        The program will first read in a sequence of 'headlines', or messages
        from the user and will then make a new window and scroll each of the
        messages across the bottom of the window in turn.
      </p>

      <p>
        This is not a long program, but it is dense: it puts together a lot of
        the concepts you've been learning about in the last few lectures, so we
        encourage you to approach it using the milestones we've suggested below.
        All the code for this problem should be written in
        <code>news_ticker.py</code>.
      </p>

      <h3>Milestone 1: Animating a single message</h3>

      <p>
        To get started, write a program that animates a single label across the
        screen, like so
      </p>

      <p>
        We'll start by writing a program that scrolls a single message across
        the screen, like so:
      </p>

      <img
        src="../../img/section/section4/tickerfirst.gif"
        alt="A first version news ticker with the text 'CS 106A students are crushing it' scrolling by once"
        style="width: 60%; margin: 0 auto;"
        class="img-fluid mx-auto d-block"
      />
      <br /><br />

      <p>
        Unlike the animation above suggests, the scroll doesn't need to repeat
        in this milestone. The text just needs to scroll by once.
      </p>

      <p>
        Here's a few tools that you might find helpful as you write this:
      </p>

      <ul>
        <li>
          <p>
            Calling
            <code
              >canvas.create_text(x, y, anchor='w', fill='black',
              text='Hello!')</code
            >
            will create a black text label on the screen whose left side is
            centered at <code>(x, y)</code> and which says <code>Hello!</code>.
            Additionally, you can specify the font of the label by providing the
            parameter <code>font=('fontname', fontsize)</code>. For example, we
            made the label in the example have a font of Calibri and fontsize of
            24 by specifying <code>font=('Calibri', 24)</code>.
            <code>create_text</code> returns the Object ID of the label, which
            can then be used to move the canvas or get its coordinates.
          </p>
          <p>
            We've also provided two constants, <code>CANVAS_WIDTH</code> and
            <code>CANVAS_HEIGHT</code> that represent the dimensions of your
            canvas. The label should be centered vertically and should start off
            beyond the right edge of the canvas.
          </p>
        </li>
        <li>
          <p>
            Recall that the basic animation loop looks like this:
          </p>
          <pre class="lang-python">
            <code>
while True:
    # update location of objects, often using canvas.move 
    
    canvas.update()
    time.sleep(DELAY)
            </code>
          </pre>
          <p>
            <code> canvas.move()</code> takes in as parameters the ID of the
            object to move (remember that
            <code>canvas.create_text</code> returns this label), as well as two
            integers representing how far you want the object to move in the x
            and y directions. We've provided two constants <code>DX</code> and
            <code>DY</code> for you to use, although these just represent
            magnitudes - it's up to you to figure out what to do with
            <code>DX</code> to make the label scroll to the left.
          </p>
          <p>
            We've also provided a constant <code>DELAY</code> for you to use in
            the call to <code>time.sleep</code>. You're welcome to change this
            constant's value as you see fit.
          </p>
        </li>
      </ul>

      <h3>Milestone 2: Repeating the message</h3>

      <p>
        Having a message scroll across the window once is progress, but we're
        not quite there yet. Currently, once our label has scrolled past the
        left edge of the screen, it just keeps going, leaving us starting at an
        unspiring blank window.
      </p>

      <p>
        In this milestone, edit your animation loop to reset your label once it
        moves past the left edge of the screen. We've provided you with the
        <code>get_right_x</code> helper function, which takes in the canvas and
        label ID as parameters and returns the rightmost x-coordinate of the
        label, which you might find handy.
      </p>

      <p>
        By the end of this milestone, you should have a program that scrolls the
        message of your choosing across the window repeatedly.
      </p>

      <h3>Milestone 3: Getting Messages from the User</h3>

      <p>
        Now, we'll start working on getting messages from the user, as opposed
        to hardcoding them into the program. To get started, implement the
        following function:
      </p>

      <pre class="lang-python">
        <code>
def get_messages():
    """
    Reads a series of messages from the user, ending when they
    input a blank message. Returns a list of all the messages 
    the user typed.
    """
        </code>
      </pre>

      <p>
        Here's the run of this function that produced the messages in the sample
        run above (user input is <i>italicized</i>):
      </p>

      <pre class="plaintext">
        <code>
Type a message here or press enter to finish: <i>CS 106A Students are crushing it</i>
Type a message here or press enter to finish: <i>So long and thanks for all the fish</i>
Type a message here or press enter to finish: <i>Avengers Assemble</i>
Type a message here or press enter to finish: <span style="color: blue;"><i>User presses enter immediately</i></span>
        </code>
      </pre>

      <p>
        Although you can't see it in the sample output, the function returned
        the list
        <code
          >["CS 106A Students are crushing it", "So long and thanks for all the
          fish", "Avengers Assemble"]</code
        >
        to the function that called it once the user entered an empty message.
      </p>

      <h3>Milestone 4: Making messages appear one after the other</h3>

      <p>
        All the pieces are in place now: we have a list of messages that we want
        to display, and we've developed infrastructure for a label with fixed
        text to scroll across the screen. Now, we just need to put these jigsaw
        pieces together to have the messages scroll across the screen in turn.
      </p>

      <p>
        There are a few steps we need to take to achieve this:
      </p>

      <ul>
        <li>
          First, we need to call the <code>get_messages</code> function to get a
          list of messages from the user.
        </li>
        <li>
          Next, we need to set the initial label to the first message that the
          user provided.
        </li>
        <li>
          Finally, once a label has scrolled past the end of the window, make a
          new label with the next message in the list. Keep in mind that you'll
          need to wrap around to the first message once the last message has
          scrolled. How can you keep track of your current position in the
          messages list?
        </li>
      </ul>
    </div>

    <div class="myTocContainer" style="position: absolute;">
      <div
        class="position-fixed justify-content-center d-flex flex-column"
        style="
          height: 100vh;
          width: 185px;
          right: 0px;
          top: 0px;
          margin-top: -20px;
        "
      >
        <nav id="toc" data-toggle="toc" class="myToc"></nav>
      </div>
    </div>

<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release%409.18.1/build/highlight.min.js"></script>
<script type="text/javascript">
  $(function () {
    // Trim whitespace around code blocks.
    $("pre>code").each(function (index, element) {
      var $elem = $(element);
      $elem.html($.trim($elem.html()));
    });
    $("pre").each(function (index, element) {
      var $elem = $(element);
      $elem.html($.trim($elem.html()));
    });
  });

  hljs.initHighlightingOnLoad();
</script>
    <br />

	<div class="row">
		<div class="col-md-12">
			<hr>

			<div class="footer">
				<p class="pull-left">
					&#169; Stanford 2020 &#124; CS106A has been developed over decades by many talented teachers. Website designed by 
					<a href="http://stanford.edu/~cpiech">Chris Piech</a>.
				</p>
			</div>
		</div>
	</div>

	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-74362126-1', 'auto');
	  ga('send', 'pageview');

	</script>

  </div>
</body>
